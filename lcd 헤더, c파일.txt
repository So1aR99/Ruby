LCD헤더파일
------------------------------------------------------------------------------------
#ifndef LCD_H_
#define LCD_H_

#define LCD_WDATA	PORTC
#define LCD_WINST	PORTC
#define LCD_CTRL	PORTB
#define LCD_RS		0		// LCD RS 신호
#define LCD_RW		1		// LCD RW 신호
#define LCD_EN		2		// LCD E 신호
#define Byte		 char
#define On			1
#define Off			0
//#define TLCD_EN { TLCD_E = 0; TLCD_E = 1; }
//#define DATA	PORTC			// LCD 데이터 신호

void Port_Init(void);				// 128a 포트 초기화 함수
void LCD_DATA(Byte);				// LCD에 데이터 입력 함수
void LCD_Comm(Byte);
void LCD_CHAR(Byte );
void LCD_STR(Byte*);
void LCD_pos(Byte, Byte);
void LCD_Clear(void);
void Init_LCD(void);				// LCD 초기화 함수

#endif

LCD .c파일
-----------------------------------------------------------------------------------
#define F_CPU	14745600UL
#include <avr/io.h>
#include <util/delay.h>
#include "lcd.h"

void PortInit(void)
{
	DDRC = 0xFF;		// 출력
	DDRB = 0x0F;
}

void LCD_Data(Byte ch)
{
	LCD_CTRL |=  (1 << LCD_RS);     //RS=1, R/W=0 으로 데이터 쓰기 싸이클
	LCD_CTRL &= ~(1 << LCD_RW);
	LCD_CTRL |=  (1 << LCD_EN);     //LCD 사용
	_delay_us(50);
	LCD_WDATA = ch;                 //데이터 출력
	_delay_us(50);
	LCD_CTRL &= ~(1 << LCD_EN);     //LCD 사용안함
}

//   0    1     2
void LCD_Comm(Byte ch)     //PG0-EN , PG1-RW, PG2-RS , PG4-TOSC1핀(사용안함)
{
	LCD_CTRL &= ~(1 << LCD_RS);     //LCD_CTRL = LCD제어 포트(4핀인데 실질적인 사용3핀)
	LCD_CTRL &= ~(1 << LCD_RW);     // RS=0, RW=0 으로 정의함.
	LCD_CTRL |=  (1 << LCD_EN);     //LCD 사용허가
	_delay_us(50);
	LCD_WINST = ch;                 //명령어 쓰기
	_delay_us(50);
	LCD_CTRL &= ~(1 << LCD_EN);		// LCD 사용안함
}
void LCD_CHAR(Byte c)     //한문자 출력 함수
{
	LCD_Data(c); //CGRAM 문자코드값 0x31 ~ 0x5F : 0xDF코드표와 일치함
	_delay_ms(1);
}

void LCD_STR(Byte *str)     // 1칸씩 출력하는 반복처리 함수로 전달
{
	while(*str != 0)
	{
		LCD_CHAR(*str);
		str++;
	}
}
void LCD_pos(char col, char row) //LCD 포지션 설정
{
	LCD_Comm(0x80 | (row+col*0x40)); // row*0~8 / col*0, DDRAM주소설정
}

void LCD_Clear(void) // 화면 클리어
{
	LCD_Comm(0x01);
	_delay_ms(2); //1.6ms이상 실행시간으로 딜레이필요
}

void LCD_Init(void) //LCD 초기화
{
	LCD_Comm(0x38); //8비트 데이터 사용, 5X7도트 , LCD2줄 사용(6)
	_delay_ms(2);
	LCD_Comm(0x38); //8비트 데이터 사용, 5X7도트 , LCD2줄 사용(6)
	_delay_ms(2);
	LCD_Comm(0x38); //8비트 데이터 사용, 5X7도트 , LCD2줄 사용(6)
	_delay_ms(2);
	LCD_Comm(0x0E); //Display ON/OFF
	_delay_ms(2);
	LCD_Comm(0x06); //주소 +1, 커서를 우측으로 이동 (3)
	_delay_ms(2);
	LCD_Clear();
}